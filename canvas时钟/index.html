<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		html,
		body,
		div {
			height: 100%;
			padding: 0;
			margin: 0;
		}

		canvas {
			margin: auto;
			display: block;
			border: 1px solid black;
		}
	</style>
</head>

<body>
	<div>
		<canvas id="canvas" width="500px" height="500px"></canvas>
	</div>
</body>
<script>
	var canvas = document.getElementById('canvas');
	var ctx = canvas.getContext('2d');

	ctx.translate(250,250);
	ctx.rotate(-Math.PI/2);
	ctx.lineCap = 'round';

	function refreshClock() {
		ctx.save();
		ctx.beginPath();
		//绘制外边框圆盘
		ctx.strokeStyle = 'rgb(50,95,162)';
		ctx.lineWidth = 10;
		ctx.arc(0, 0, 200,0, Math.PI*2);
		ctx.stroke();
		ctx.restore();

		//绘制分钟刻度
		ctx.beginPath();
		//共60个
		for (var i=0;i < 60; i++) {
			ctx.save();
			ctx.rotate(Math.PI/30*i);
			ctx.moveTo(170, 0 );
			ctx.lineTo(180, 0);
			ctx.restore();
		}
		ctx.lineWidth = 3;
		ctx.stroke();
		ctx.restore();

		//绘制五分钟刻度
		ctx.beginPath();
		//共12个
		for (var i=0;i < 12; i++) {
			ctx.save();
			ctx.rotate(Math.PI/6*i);
			ctx.moveTo(160, 0 );
			ctx.lineTo(180, 0);
			ctx.restore();
		}
		ctx.lineWidth = 8;
		ctx.stroke();
		ctx.restore();
	}
	

	setInterval(function(){
		ctx.clearRect(-canvas.width/2, -canvas.height/2, canvas.width, canvas.height);
		refreshClock();
		var time = new Date();
		var min = time.getMinutes();
		var hour = time.getHours();
		var second = time.getSeconds();
		refreshMinute(ctx, min);
		refreshHour(ctx, hour);
		refreshSecond(ctx, second);
	}, 1000);

	refreshClock();
	refreshMinute(ctx, new Date().getMinutes());
	refreshHour(ctx, new Date().getHours());
	refreshSecond(ctx, new Date().getSeconds());

	function refreshMinute (ctx, min){
		ctx.save();
		ctx.beginPath();
		ctx.rotate(Math.PI*2*(min/60));
		ctx.moveTo(0,0);
		ctx.lineTo(180, 0);
		ctx.lineWidth = 10;
		ctx.stroke();
		ctx.restore();
	}

	function refreshHour (ctx,hour){
		ctx.save();
		ctx.beginPath();
		ctx.rotate(Math.PI*2*(hour/12));
		ctx.moveTo(0,0);
		ctx.lineTo(140, 0);
		ctx.lineWidth = 16;
		ctx.stroke();
		ctx.restore();
	}

	function refreshSecond (ctx, second){
		ctx.save();
		ctx.beginPath();
		ctx.rotate(Math.PI*2*(second/60));
		ctx.moveTo(0,0);
		ctx.lineTo(180, 0);
		ctx.lineWidth = 6;
		ctx.strokeStyle = 'red';
		ctx.stroke();
		ctx.restore();
	}

</script>

</html>